<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bus Product</title>
    <link rel="icon" href="/public/favicon.png" />
    <link rel="stylesheet" href="/public/styles.css" />
  </head>
  <body class="dashboard layout">
    <%- include("partials/sidebar", { active }) %>

    <section class="content">
      <div class="api-layout single">
        <section class="api-panel">
          <div class="panel-card">
            <div class="endpoint-header">
              <div>
                <h2 id="endpoint-title">GetSession</h2>
                <p class="muted" id="endpoint-path">POST /GetSession</p>
              </div>
              <span class="pill" id="endpoint-method">POST</span>
            </div>

            <div class="endpoint-meta">
              <label class="label" for="target-url-input">Hedef URL</label>
              <input
                id="target-url-input"
                list="target-url-list"
                type="url"
                inputmode="url"
                placeholder="https://api.example.com"
              />
              <datalist id="target-url-list"></datalist>
            </div>

            <div class="endpoint-actions">
              <button class="button-link" id="open-endpoint-modal" type="button">Endpoint Ekle</button>
            </div>

            <div class="request-columns">
              <div class="request-column request-endpoint-column">
                <div class="endpoint-list-card">
                  <div class="response-header">
                    <h3>Endpointler</h3>
                    <span class="muted">Seçmek için tıkla</span>
                  </div>
                  <div class="endpoint-inline-list" id="endpoint-table-inline"></div>
                </div>
              </div>

              <div class="request-column request-editor-column">
                <div class="request-actions">
                  <button class="button-link" id="send-request" type="button">İsteği Gönder</button>
                  <span class="muted" id="request-status"></span>
                </div>

                <div class="request-tabs">
                  <button class="tab active" data-tab="body">Body</button>
                  <button class="tab" data-tab="headers">Headers</button>
                  <button class="tab" data-tab="params">Params</button>
                </div>

                <div class="request-body tab-panel active" data-panel="body">
                  <label class="label">Body (JSON)</label>
                  <div class="fixed-body">
                    <div class="fixed-body-header">
                      <span class="muted">İstek Body</span>
                      <button class="ghost small" id="copy-body" type="button">Kopyala</button>
                    </div>
                    <textarea
                      id="endpoint-body"
                      class="code-input"
                      rows="10"
                      spellcheck="false"
                    >{
  "type": 1,
  "connection": {
    "ip-address": "212.156.219.182",
    "port": "5117"
  },
  "browser": {
    "name": "Chrome"
  }
}</textarea>
                  </div>
                </div>

                <div class="request-body tab-panel" data-panel="headers">
                  <label class="label">Headers</label>
                  <div class="kv-table">
                    <div class="kv-head">
                      <span>Etkin</span>
                      <span>Key</span>
                      <span>Value</span>
                      <span></span>
                    </div>
                    <div class="kv-rows" id="headers-rows"></div>
                    <div class="kv-toolbar">
                      <button type="button" class="ghost small" id="add-header-row">Satır Ekle</button>
                      <button type="button" class="ghost small" id="copy-headers-json">JSON Kopyala</button>
                    </div>
                    <textarea
                      id="endpoint-headers"
                      class="code-input hidden-field"
                      rows="8"
                      placeholder='{"Content-Type":"application/json"}'
                    ></textarea>
                  </div>
                </div>

                <div class="request-body tab-panel" data-panel="params">
                  <label class="label">Params</label>
                  <div class="kv-table">
                    <div class="kv-head">
                      <span>Etkin</span>
                      <span>Key</span>
                      <span>Value</span>
                      <span></span>
                    </div>
                    <div class="kv-rows" id="params-rows"></div>
                    <div class="kv-toolbar">
                      <button type="button" class="ghost small" id="add-param-row">Satır Ekle</button>
                      <button type="button" class="ghost small" id="copy-params-json">JSON Kopyala</button>
                    </div>
                    <textarea
                      id="endpoint-params"
                      class="code-input hidden-field"
                      rows="6"
                      placeholder='{"page":1,"size":10}'
                    ></textarea>
                  </div>
                </div>
              </div>

              <div class="request-column request-response-column">
                <div class="response-panel">
                  <div class="response-header">
                    <h3>Yanıt</h3>
                    <span class="pill muted" id="response-status">Bekleniyor</span>
                  </div>
                  <div class="response-meta">
                    <span id="response-url"></span>
                    <span id="response-time"></span>
                  </div>
                  <pre class="code-output" id="response-body">{}</pre>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
      <div class="modal-backdrop" id="endpoint-modal" aria-hidden="true">
        <div class="modal">
          <div class="modal-header">
            <h2 id="endpoint-modal-title">Endpoint Ekle</h2>
            <button class="ghost small" id="close-endpoint-modal" type="button">Kapat</button>
          </div>
          <form id="endpoint-form" class="modal-form">
            <label>
              <span>Başlık</span>
              <input type="text" name="title" placeholder="Firma Listeleme" required />
            </label>
            <label>
              <span>Hedef URL</span>
              <input type="text" name="targetUrl" placeholder="https://api.example.com" />
            </label>
            <label>
              <span>Method</span>
              <select name="method">
                <option value="GET">GET</option>
                <option value="POST">POST</option>
                <option value="PUT">PUT</option>
                <option value="DELETE">DELETE</option>
              </select>
            </label>
            <label>
              <span>Endpoint URL</span>
              <input type="text" name="path" placeholder="/company/list" required />
            </label>
            <label>
              <span>Açıklama</span>
              <input type="text" name="description" placeholder="Opsiyonel" />
            </label>
            <button type="submit" class="button-link" id="endpoint-submit-button">Kaydet</button>
            <p id="endpoint-form-status" class="form-feedback" role="status" aria-live="polite" hidden></p>
          </form>

          <div class="modal-list">
            <h3>Eklenen Endpointler</h3>
            <div class="endpoint-table" id="endpoint-table"></div>
          </div>
        </div>
      </div>
    </section>
    <script src="/public/app.js" defer></script>
  </body>
</html>
